# PyGameChess
# Todo List (2023)

## TODO
- Define winner and loser or draw
- Consider putting SetStateFromPieceState() at the end of PlacePiece()
- Write legal moves using chess notation
- Use standard chess piece images
- Color the square for the computer's latest move
- For moves, color to and from squares yellow (shade based on light/dark square)
- For possible moves, use blue squares (shade based on light/dark square)
- Define pawn en passant
- Define castling
- Define draw: insufficient material
- Define draw: threefold repetition
- Define draw: fifty-move rule
- Highlighting possible moves:
  Try green square for piece-to-move location
  Try alternating shades of blue (light/dark based on board) for move locations
- Should we create a "Rules" class that knows the state and current player
  and enforces valid moves?
- Save all moves made in chess game
- Information to save for each move: piece, position from, position to, and piece captured (or empty)
- Make function to get "state" (values) from "piece_state" (objects)
- Make function to get legal checks (subset of legal moves)
- Make function to get legal checkmates (subset of legal moves)
- Consolidate redundant functions in state and piece classes
- Plot position evaluation maps for each piece
- Switch between king middle game and end game tables

## DONE
- Draw colored square when clicked
- Fix bug: use square location instead of click location
- When a square is clicked, print out the x, y and chess notation coordinates
- For clicked square, print number and name of piece in square (or empty).
- Draw different shapes for all chess pieces
- Move board parameters and drawing functions to board class
- Change click color depending on whether square is empty or occupied
- Make it possible to move pieces
- Make piece class
- Draw pieces using piece classes
- Move some functions to board class
- Define player class
- Track current player turn in state class
- Switch between players
- Add black borders to chess pieces
- Do not let a player capture his own pieces
- Differentiate pawn movement and capture
- Do not let pieces jump other pieces (except for knights)
- Define allowed piece movement and captures
- When you click on a piece, show its possible moves: gray squares or little circles; use borders
- Use GetPiecePossibleMoves() to determine if move is valid
- Define check
- Get all possible moves for a given player
- Fix bug: program crashes when a king is captured when PlayerIsInCheck() is used
- Fix bug: program crashes when MoveResultsInCheck() is used
- Fix bug: program crashes when capture results in check; we need to put back the piece to capture!
- Determine if a move would put a player in check
- Get legal moves for a given player
- Legal moves: constrain moves based on check
- Define checkmate: in check, no legal moves
- Define stalemate: not in check, no legal moves
- Define pawn promotion
- Create a chess agent!
- Evaluate current position - initially based on sum of piece values
- Create a make move function that moves the piece, handles pawn promotion, and switches the current player
- Create undo move function, including undoing pawn promotion (if applicable), restoring captured piece (if any), and switching players
- Define game is over
- Create search to find best move based on evaluating positions
- Determine how many moves and positions (nodes) are evaluated in total by Minimax()
- Determine how much time computer takes to calculate best move
- Create a class for the game state
- Define numbers and names for chess pieces
- Create a class for the chess board
- Make function to set initial piece state
- Write function to determine if there are any pieces on squares between two positions
- At the start of game, set state based on piece state
- After any move, update state based on piece state
- Make a function to get a list of all a player's pieces
- Make a function to get possible moves for a piece with constraints:
  no jumping, no capturing own pieces, pawn movement and captures.
- Track opposing player
- Make function to convert [x, y] position to "xy" string
- Make function to get the position of a player's king
- Make function to get legal captures (subset of legal moves)
- Define a mapping between x, y coordinates and chess notation coordinates
- Define valid x, y coordinates
- Define valid chess notation
- Fix bug: x, y coordinates (rows, columns) are inverted for notation!
- Write function to return squares that are in between two positions
- Create piece class (superclass or base class)
- Create subclass for each type of piece
- Define how each type of piece is drawn
- Define how each piece can move
- Add piece type variable (pawn, knight, etc.)
- Create and use game over function
- Create and use an undo move function
- Undoing move: update pieces, state, piece to move and capture
- Undo pawn promotion
- When moving, we probably need to switch current/opposing players
- Each call of Minimax() is for a certain player; need to switch current/opposing players
- Need to include pawn promotion in search
- Use alpha/beta pruning
- Print best evaluation score and best move
- Add evaluations for checkmate and stalemate
- Add position evaluation maps for each piece
- Piece tables assume that the player is white; need to fix for black player
